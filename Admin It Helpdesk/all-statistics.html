<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Statistics - IT-HelpDesk</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .stat-card {
        background-color: #fff;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        margin-bottom: 24px;
        padding: 20px;
      }

      .stat-card h3 {
        color: #5e5873;
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 1px solid #ebe9f1;
      }

      .total-solved {
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .total-solved .number {
        font-size: 48px;
        font-weight: 700;
        color: #5e5873;
        margin-bottom: 10px;
      }

      .stat-pie-chart {
        width: 140px;
        height: 140px;
        margin-right: 20px;
      }

      .legend-item {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
      }

      .legend-color {
        width: 16px;
        height: 16px;
        border-radius: 50%;
        margin-right: 8px;
      }

      .legend-label {
        font-size: 14px;
        color: #6e6b7b;
      }

      .stat-table th {
        background-color: #f8f8f8;
        color: #5e5873;
        font-weight: 600;
      }

      .stat-table tbody tr:hover {
        background-color: #f7f6fc;
      }

      .search-bar {
        display: flex;
        align-items: center;
        background-color: #f8f8f8;
        border-radius: 5px;
        padding: 0.5rem 1rem;
        width: 100%;
        max-width: 300px;
        border: 1px solid #e0e0e0;
        margin-bottom: 15px;
      }

      .search-bar i {
        color: #6e6b7b;
        margin-right: 8px;
      }

      .search-bar input {
        border: none;
        background: transparent;
        width: 100%;
        outline: none;
        color: #5e5873;
      }

      .search-bar input::placeholder {
        color: #b9b9c3;
      }

      .search-input {
        border-radius: 5px;
        padding: 8px 12px;
        border: 1px solid #d8d6de;
        width: 100%;
      }

      .search-input:focus {
        outline: none;
        border-color: #7367f0;
        box-shadow: 0 0 0 0.2rem rgba(115, 103, 240, 0.25);
      }

      .chart-container {
        position: relative;
        height: 200px;
        width: 100%;
      }

      .chart-label {
        font-size: 16px;
        text-align: center;
        margin-top: 10px;
        color: #6e6b7b;
      }
    </style>
  </head>
  <body>
    <!-- Include navbar -->
    <!-- Header -->
    <header class="header">
      <h1>IT-HelpDesk</h1>
      <div class="user-profile">
        <span>JOHN NEWMAN</span>
        <button class="logout-btn">
          <i class="fas fa-sign-out-alt me-1"></i>Logout
        </button>
      </div>
    </header>

    <!-- Sidebar -->
    <div class="sidebar">
      <ul class="nav flex-column">
        <li class="nav-item">
          <a class="nav-link" href="Home.html"
            ><i class="fas fa-home"></i> Home</a
          >
        </li>
        <li class="nav-item">
          <a class="nav-link" href="myTicket(s).html"
            ><i class="fas fa-ticket-alt"></i> My Tickets</a
          >
        </li>
        <li class="nav-item">
          <a class="nav-link" href="knowledgeBase.html"
            ><i class="fas fa-book"></i> Knowledge Base</a
          >
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#">
            <i class="fas fa-cog"></i> Admin Menu
            <i class="fas fa-angle-down ms-auto"></i>
          </a>
          <ul class="submenu-sidebar" id="adminSubmenu">
            <li>
              <a href="admin-article.html">
                <i class="far fa-file-alt"></i> Article
              </a>
            </li>
            <li class="dropdown-submenu">
              <a href="#"> <i class="fas fa-tags"></i> Category </a>
              <ul class="sub-submenu" id="categorySubmenu">
                <li>
                  <a href="admin-category-article.html">
                    <i class="far fa-file-alt"></i> Article Category
                  </a>
                </li>
                <li>
                  <a href="admin-category-ticket.html">
                    <i class="fas fa-ticket-alt"></i> Ticket Category
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown-submenu">
              <a href="#"> <i class="fas fa-ticket-alt"></i> Ticket </a>
              <ul class="sub-submenu" id="ticketSubmenu">
                <li>
                  <a href="newProblemTicket.html">
                    <i class="fas fa-plus"></i> New Ticket
                  </a>
                </li>
                <li>
                  <a href="Home.html">
                    <i class="fas fa-list"></i> Ticket List
                  </a>
                </li>
              </ul>
            </li>
            <li>
              <a href="admin-user.html"> <i class="fas fa-user"></i> User </a>
            </li>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle active" href="#">
            <i class="fas fa-chart-bar"></i> Statistic
            <i class="fas fa-angle-down ms-auto"></i>
          </a>
          <ul
            class="submenu-sidebar"
            id="statisticSubmenu"
            style="display: block"
          >
            <li>
              <a href="datastudio-statistics.html">
                <i class="fas fa-tachometer-alt"></i> Datastudio Statistic
              </a>
            </li>
            <li>
              <a href="all-statistics.html" class="active">
                <i class="fas fa-chart-pie"></i> All Statistic
              </a>
            </li>
            <li class="dropdown-submenu">
              <a href="#"> <i class="fas fa-filter"></i> Details By </a>
              <ul class="sub-submenu" id="detailsSubmenu">
                <li>
                  <a href="statistics-year.html">
                    <i class="fas fa-calendar-year"></i> This Year
                  </a>
                </li>
                <li>
                  <a href="statistics-categories.html">
                    <i class="fas fa-tags"></i> Problem Categories
                  </a>
                </li>
                <li>
                  <a href="statistics-departments.html">
                    <i class="fas fa-building"></i> Departments
                  </a>
                </li>
                <li>
                  <a href="statistics-staff.html">
                    <i class="fas fa-users"></i> IT Staff
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="serverMonitoring.html"
            ><i class="fas fa-server"></i> Server Monitoring</a
          >
        </li>
      </ul>

      <!-- Today's PIC -->
      <div class="todays-pic mt-4 mx-3">
        <h6>Today's PIC</h6>
        <div class="pic-avatar">
          <i class="fas fa-user fa-4x text-secondary"></i>
        </div>
        <div class="text-center mb-2">
          <div>IT Support</div>
          <div><strong>John Newman</strong></div>
        </div>
        <div class="text-start">
          <div class="mb-1">
            <span style="font-size: 0.85rem">On progress Ticket(s):</span>
          </div>
          <div class="mb-1">
            <span style="font-size: 0.85rem">Solved Ticket(s):</span>
          </div>
          <div class="mb-1">
            <span style="font-size: 0.85rem">Total Ticket(s):</span>
          </div>
          <div class="mt-2">
            <form class="mb-2">
              <div class="input-group input-group-sm">
                <input
                  type="number"
                  id="phone-number"
                  class="form-control"
                  placeholder="No. HP/CUG"
                  style="box-shadow: none; background-color: #f0f0f0"
                />
              </div>
            </form>
          </div>
        </div>
        <button class="check-in-btn mt-1">CHECK IN</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <h2 class="mb-4">All Statistics</h2>

      <div class="row">
        <!-- Monthly Summary Card -->
        <div class="col-md-6 col-lg-6">
          <div class="stat-card">
            <h3>This Month</h3>
            <div class="d-flex align-items-center justify-content-center mb-3">
              <div class="stat-pie-chart">
                <canvas id="thisMonthChart"></canvas>
              </div>
              <div>
                <div class="legend-item">
                  <div
                    class="legend-color"
                    style="background-color: #28c76f"
                  ></div>
                  <div class="legend-label">Solved (75%)</div>
                </div>
                <div class="legend-item">
                  <div
                    class="legend-color"
                    style="background-color: #ea5455"
                  ></div>
                  <div class="legend-label">Expired (25%)</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Total Solved Card -->
        <div class="col-md-6 col-lg-6">
          <div class="stat-card">
            <h3>Total Solved</h3>
            <div class="total-solved flex-column">
              <div class="number text-center">555</div>
              <div class="chart-container">
                <canvas id="totalSolvedChart"></canvas>
              </div>
              <div class="chart-label">You Solved 555 Ticket(s) per Month</div>
            </div>
          </div>
        </div>
      </div>

      <!-- IT Staff Statistics -->
      <div class="stat-card">
        <h3>IT Staff Statistic By Month in 2025</h3>
        <div class="mb-3">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="table-responsive">
              <table class="table stat-table">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>IT Staff's Name</th>
                    <th>Ticket(s) Count</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>John Newman</td>
                    <td>57</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>Karen Elizabeth</td>
                    <td>40</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>John Thor</td>
                    <td>7</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-6">
            <div class="chart-container" style="height: 300px">
              <canvas id="itStaffChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Statistics By Category -->
      <div class="stat-card">
        <h3>Statistic By Category Case in 2025</h3>
        <div class="mb-3">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="table-responsive">
              <table class="table stat-table">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Department</th>
                    <th>Count</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>Aplikasi</td>
                    <td>42</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>Lain-lain</td>
                    <td>28</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>Software</td>
                    <td>15</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-6">
            <div class="chart-container" style="height: 300px">
              <canvas id="categoryCaseChart"></canvas>
            </div>
          </div>
        </div>
      </div>

      <!-- Statistics By Department -->
      <div class="stat-card">
        <h3>Statistic By Department in 2025</h3>
        <div class="mb-3">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input type="text" placeholder="Search" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="table-responsive">
              <table class="table stat-table">
                <thead>
                  <tr>
                    <th>No</th>
                    <th>Department</th>
                    <th>Count</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>1</td>
                    <td>Transmission Department</td>
                    <td>35</td>
                  </tr>
                  <tr>
                    <td>2</td>
                    <td>Art Department</td>
                    <td>22</td>
                  </tr>
                  <tr>
                    <td>3</td>
                    <td>Ga & Build. Eng.</td>
                    <td>18</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="col-md-6">
            <div class="chart-container" style="height: 300px">
              <canvas id="departmentChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- WhatsApp Button -->
    <a href="#" class="whatsapp-btn" title="Contact us on WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="utils.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // This Month Pie Chart
        const thisMonthCtx = document
          .getElementById("thisMonthChart")
          .getContext("2d");
        const thisMonthChart = new Chart(thisMonthCtx, {
          type: "doughnut",
          data: {
            labels: ["Solved", "Expired"],
            datasets: [
              {
                data: [75, 25],
                backgroundColor: ["#28c76f", "#ea5455"],
                borderWidth: 0,
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: true,
            cutout: "75%",
            plugins: {
              legend: {
                display: false,
              },
              tooltip: {
                callbacks: {
                  label: function (context) {
                    return context.label + ": " + context.raw + "%";
                  },
                },
              },
            },
          },
        });

        // Total Solved Chart
        const totalSolvedCtx = document
          .getElementById("totalSolvedChart")
          .getContext("2d");
        const totalSolvedChart = new Chart(totalSolvedCtx, {
          type: "bar",
          data: {
            labels: [
              "Jan",
              "Feb",
              "Mar",
              "Apr",
              "May",
              "Jun",
              "Jul",
              "Aug",
              "Sep",
              "Oct",
              "Nov",
              "Dec",
            ],
            datasets: [
              {
                label: "Tickets Solved",
                data: [65, 40, 85, 55, 75, 52, 63, 92, 58, 80, 45, 70],
                backgroundColor: "#7367f0",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  drawBorder: false,
                },
                ticks: {
                  precision: 0,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
            barThickness: 15,
            maxBarThickness: 20,
          },
        });

        // Category Case Chart
        const categoryCaseCtx = document
          .getElementById("categoryCaseChart")
          .getContext("2d");
        const categoryCaseChart = new Chart(categoryCaseCtx, {
          type: "bar",
          data: {
            labels: ["Aplikasi", "Lain-lain", "Software"],
            datasets: [
              {
                label: "Count",
                data: [42, 28, 15],
                backgroundColor: "#7367f0",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  drawBorder: false,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
          },
        });

        // Department Chart
        const departmentCtx = document
          .getElementById("departmentChart")
          .getContext("2d");
        const departmentChart = new Chart(departmentCtx, {
          type: "bar",
          data: {
            labels: [
              "Transmission Department",
              "Art Department",
              "Ga & Build. Eng.",
            ],
            datasets: [
              {
                label: "Count",
                data: [35, 22, 18],
                backgroundColor: "#7367f0",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  drawBorder: false,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
          },
        });

        // IT Staff Chart
        const itStaffCtx = document
          .getElementById("itStaffChart")
          .getContext("2d");
        const itStaffChart = new Chart(itStaffCtx, {
          type: "bar",
          data: {
            labels: ["John Newman", "Karen Elizabeth", "John Thor"],
            datasets: [
              {
                label: "Tickets Handled",
                data: [57, 40, 7],
                backgroundColor: "#7367f0",
              },
            ],
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            scales: {
              y: {
                beginAtZero: true,
                grid: {
                  display: true,
                  drawBorder: false,
                },
                ticks: {
                  precision: 0,
                },
              },
              x: {
                grid: {
                  display: false,
                },
              },
            },
            plugins: {
              legend: {
                display: false,
              },
            },
          },
        });
      });
    </script>

    <!-- WhatsApp Button -->
    <a href="#" class="whatsapp-btn" title="Contact us on WhatsApp">
      <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Copyright Container -->
    <div id="copyright-container"></div>
  </body>
</html>
