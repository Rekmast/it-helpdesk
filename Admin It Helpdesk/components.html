<!-- Header Component -->
<div id="header-component">
  <header class="header">
    <h1>IT-HelpDesk</h1>
    <div class="user-profile">
      <span>JOHN NEWMAN</span>
      <div class="notification-icon">
        <i class="fas fa-bell"></i>
      </div>
      <button class="logout-btn">
        <i class="fas fa-sign-out-alt me-1"></i>Logout
      </button>
    </div>
  </header>
</div>

<!-- Sidebar Component -->
<div id="sidebar-component">
  <div class="sidebar">
    <ul class="nav flex-column">
      <li class="nav-item">
        <a class="nav-link" href="Home.html">
          <i class="fas fa-home"></i> Home
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="myTicket(s).html">
          <i class="fas fa-ticket-alt"></i> My Tickets
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="knowledgeBase.html">
          <i class="fas fa-book"></i> Knowledge Base
        </a>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#">
          <i class="fas fa-cog"></i> Admin Menu
          <i class="fas fa-angle-down ms-auto"></i>
        </a>
        <ul class="submenu-sidebar" id="adminSubmenu">
          <li>
            <a href="admin-article.html">
              <i class="far fa-file-alt"></i> Article
            </a>
          </li>
          <li class="dropdown-submenu">
            <a href="#">
              <i class="fas fa-tags"></i> Category
              <i class="fas fa-angle-down submenu-arrow"></i
            ></a>
            <ul class="sub-submenu" id="categorySubmenu">
              <li>
                <a href="admin-category-article.html">
                  <i class="far fa-file-alt"></i> Article Category
                </a>
              </li>
              <li>
                <a href="admin-category-ticket.html">
                  <i class="fas fa-ticket-alt"></i> Ticket Category
                </a>
              </li>
            </ul>
          </li>
          <li class="dropdown-submenu">
            <a href="#">
              <i class="fas fa-ticket-alt"></i> Ticket
              <i class="fas fa-angle-down submenu-arrow"></i
            ></a>
            <ul class="sub-submenu" id="ticketSubmenu">
              <li>
                <a href="newProblemTicket.html">
                  <i class="fas fa-plus"></i> New Ticket
                </a>
              </li>
              <li>
                <a href="Home.html">
                  <i class="fas fa-list"></i> Ticket List
                </a>
              </li>
            </ul>
          </li>
          <li>
            <a href="admin-user.html"> <i class="fas fa-user"></i> User </a>
          </li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#">
          <i class="fas fa-chart-bar"></i> Statistic
          <i class="fas fa-angle-down ms-auto"></i>
        </a>
        <ul class="submenu-sidebar" id="statisticSubmenu">
          <li>
            <a href="datastudio-statistics.html">
              <i class="fas fa-tachometer-alt"></i> Datastudio Statistic
            </a>
          </li>
          <li>
            <a href="all-statistics.html">
              <i class="fas fa-chart-pie"></i> All Statistic
            </a>
          </li>
          <li class="dropdown-submenu">
            <a href="#">
              <i class="fas fa-filter"></i> Details By
              <i class="fas fa-angle-down submenu-arrow"></i
            ></a>
            <ul class="sub-submenu" id="detailsSubmenu">
              <li>
                <a href="statistics-year.html">
                  <i class="fas fa-calendar-year"></i> This Year
                </a>
              </li>
              <li>
                <a href="statistics-categories.html">
                  <i class="fas fa-tags"></i> Problem Categories
                </a>
              </li>
              <li>
                <a href="statistics-departments.html">
                  <i class="fas fa-building"></i> Departments
                </a>
              </li>
              <li>
                <a href="statistics-staff.html">
                  <i class="fas fa-users"></i> IT Staff
                </a>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="serverMonitoring.html">
          <i class="fas fa-server"></i> Server Monitoring
        </a>
      </li>
    </ul>

    <!-- Today's PIC -->
    <div class="todays-pic mt-4 mx-3">
      <h6>Today's PIC</h6>
      <div
        class="pic-avatar"
        style="
          height: 180px;
          width: 100%;
          display: flex;
          justify-content: center;
          align-items: center;
          background: transparent;
          margin-bottom: 0;
        "
      >
        <img
          src="assets/images/profile-pic.jpg"
          alt="John Newman"
          style="
            max-width: 100%;
            max-height: 180px;
            object-fit: contain;
            transform: rotate(90deg);
            background: transparent;
          "
        />
      </div>
      <div class="text-center mb-2">
        <div>IT Support</div>
        <div><strong>John Newman</strong></div>
      </div>
      <div class="text-start">
        <div class="mb-1">
          <span style="font-size: 0.85rem">On progress Ticket(s):</span>
        </div>
        <div class="mb-1">
          <span style="font-size: 0.85rem">Solved Ticket(s):</span>
        </div>
        <div class="mb-1">
          <span style="font-size: 0.85rem">Total Ticket(s):</span>
        </div>
        <div class="mt-2">
          <form class="mb-2">
            <div class="input-group input-group-sm">
              <input
                type="number"
                id="phone-number"
                class="form-control"
                placeholder="No. HP/CUG"
                style="box-shadow: none; background-color: #f0f0f0"
              />
            </div>
          </form>
        </div>
      </div>
      <button class="check-in-btn mt-1">CHECK IN</button>
    </div>
  </div>
</div>

<!-- JavaScript to handle component loading and active navigation -->
<script>
  // Function to set active navigation based on current page
  function setActiveNavigation() {
    const currentPage = window.location.pathname.split("/").pop();

    // Reset all active classes
    document.querySelectorAll(".nav-link").forEach((item) => {
      item.classList.remove("active");
    });

    document.querySelectorAll(".submenu-sidebar a").forEach((item) => {
      item.classList.remove("active");
    });

    // Set active link based on current page
    switch (currentPage) {
      case "Home.html":
        document.getElementById("nav-home").classList.add("active");
        break;
      case "myTicket(s).html":
        document.getElementById("nav-tickets").classList.add("active");
        break;
      case "knowledgeBase.html":
        document.getElementById("nav-knowledge").classList.add("active");
        break;
      case "admin-article.html":
        document.getElementById("nav-admin").classList.add("active");
        document.getElementById("nav-admin-article").classList.add("active");
        document.getElementById("adminSubmenu").style.display = "block";
        break;
      case "admin-category-article.html":
        document.getElementById("nav-admin").classList.add("active");
        document.getElementById("adminSubmenu").style.display = "block";
        document.getElementById("categorySubmenu").style.display = "block";
        document
          .querySelector(".dropdown-submenu > a > i.fas.fa-tags")
          .parentElement.classList.add("active");
        document
          .querySelector('a[href="admin-category-article.html"]')
          .classList.add("active");
        break;
      case "admin-category-ticket.html":
        document.getElementById("nav-admin").classList.add("active");
        document.getElementById("adminSubmenu").style.display = "block";
        document.getElementById("categorySubmenu").style.display = "block";
        document
          .querySelector(".dropdown-submenu > a > i.fas.fa-tags")
          .parentElement.classList.add("active");
        document
          .querySelector('a[href="admin-category-ticket.html"]')
          .classList.add("active");
        break;
      case "newProblemTicket.html":
        document.getElementById("nav-admin").classList.add("active");
        document.getElementById("adminSubmenu").style.display = "block";
        document.getElementById("ticketSubmenu").style.display = "block";
        document
          .querySelector(".dropdown-submenu > a > i.fas.fa-ticket-alt")
          .parentElement.classList.add("active");
        document
          .querySelector('a[href="newProblemTicket.html"]')
          .classList.add("active");
        break;
      case "admin-user.html":
        document.getElementById("nav-admin").classList.add("active");
        document.getElementById("nav-admin-user").classList.add("active");
        document.getElementById("adminSubmenu").style.display = "block";
        break;
      case "datastudio-statistics.html":
        document.getElementById("nav-statistic").classList.add("active");
        document.getElementById("nav-datastudio").classList.add("active");
        document.getElementById("statisticSubmenu").style.display = "block";
        break;
      case "all-statistics.html":
        document.getElementById("nav-statistic").classList.add("active");
        document.getElementById("nav-all-stats").classList.add("active");
        document.getElementById("statisticSubmenu").style.display = "block";
        break;
      case "statistics-year.html":
      case "statistics-categories.html":
      case "statistics-departments.html":
      case "statistics-staff.html":
        document.getElementById("nav-statistic").classList.add("active");
        document.getElementById("nav-details-by").classList.add("active");
        document.getElementById("statisticSubmenu").style.display = "block";

        if (currentPage === "statistics-year.html") {
          document.getElementById("nav-stats-year").classList.add("active");
        } else if (currentPage === "statistics-categories.html") {
          document
            .getElementById("nav-stats-categories")
            .classList.add("active");
        } else if (currentPage === "statistics-departments.html") {
          document
            .getElementById("nav-stats-departments")
            .classList.add("active");
        } else if (currentPage === "statistics-staff.html") {
          document.getElementById("nav-stats-staff").classList.add("active");
        }
        break;
      case "serverMonitoring.html":
        document.getElementById("nav-server").classList.add("active");
        break;
    }
  }

  // Toggle submenu visibility
  function toggleSubmenu(id) {
    const submenu = document.getElementById(id);
    if (submenu.style.display === "block") {
      submenu.style.display = "none";
    } else {
      submenu.style.display = "block";
    }
  }

  // Initialize dropdown toggle functionality
  document.addEventListener("DOMContentLoaded", function () {
    // Set active navigation based on current page
    setActiveNavigation();

    // Add click event listeners to dropdown toggles
    document.querySelectorAll(".nav-link.dropdown-toggle").forEach((item) => {
      item.addEventListener("click", function (e) {
        e.preventDefault();
        const submenuId = this.nextElementSibling.id;
        toggleSubmenu(submenuId);
      });
    });
  });
</script>

<!-- Copyright Component -->
<div id="copyright-component">
  <div class="copyright-container">
    <div class="copyright-text">
      <p>© 2024 IT-HelpDesk. All rights reserved.</p>
    </div>
  </div>
</div>
