<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IT-HelpDesk - Home</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Odor+Mean+Chey&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Navigation Bar -->
    <div id="navbar-container"></div>

    <!-- Hero Section with PIC profile -->
    <div class="hero-section">
      <div class="hero-content">
        <h1>IT-HELPDESK</h1>
        <p>
          Sistem manajemen tiket untuk menangani masalah teknis dengan cepat dan
          efisien
        </p>
        <a
          href="new-problem.html"
          class="main-button"
          style="text-align: left; display: block; width: fit-content"
          >REPORT A PROBLEM</a
        >
      </div>
      <div class="hero-stats">
        <div class="profile-pic-container">
          <div class="today-pic">Today's PIC</div>
          <div class="profile-pic">
            <img
              src="https://hris.trans7.co.id/Photo/0906270.jpg?250610112212"
              alt="Today's PIC Profile"
              style="transform: rotate(90deg)"
            />
          </div>
          <div class="support-text">IT Support</div>
          <div class="support-name">John Newman</div>
          <div class="support-contact">+6281234567890</div>
        </div>
      </div>
    </div>

    <!-- Main Content Area -->
    <div class="container-fluid" id="main-container">
      <!-- Full Width IT Announcement Section -->
      <div class="row">
        <div class="col-12">
          <div class="it-announcement-box p-4 bg-white rounded shadow-sm m-3">
            <h2 class="mb-4">IT ANNOUNCEMENT</h2>
            <p class="mb-4">
              Pengumuman resmi dari tim IT terkait sistem, jadwal maintenance,
              pembaruan layanan, dan informasi penting lainnya. Pastikan Anda
              selalu mendapatkan informasi terbaru agar aktivitas kerja tidak
              terganggu.
            </p>

            <!-- Main Announcements Row -->
            <div class="row">
              <!-- Main Maintenance Card -->
              <div class="col-md-6 mb-4">
                <div
                  class="main-announcement-card h-100"
                  style="
                    display: flex;
                    flex-direction: column;
                    overflow: hidden;
                    border-radius: 12px;
                  "
                >
                  <!-- Card image section at top -->
                  <div
                    style="
                      background-color: #fff5f5;
                      padding: 30px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                    "
                  >
                    <div
                      style="
                        width: 60px;
                        height: 60px;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                      "
                    >
                      <i
                        class="fa-solid fa-screwdriver-wrench"
                        style="font-size: 40px; color: #0a3255"
                      ></i>
                    </div>
                  </div>

                  <!-- Content section in middle -->
                  <div style="padding: 25px; flex-grow: 1">
                    <h3 style="font-weight: 600; margin-bottom: 15px">
                      Sistem Maintenance
                    </h3>
                    <p
                      style="color: #666; margin-bottom: 30px; line-height: 1.5"
                    >
                      Akan ada pemeliharaan sistem pada tanggal 15 Agustus 2025.
                      Sistem akan down selama 2 jam dari pukul 23:00 - 01:00
                      WIB.
                    </p>
                  </div>

                  <!-- Button at bottom -->
                  <div style="padding: 0">
                    <a
                      href="article-detail.html"
                      class="view-detail-btn"
                      style="
                        width: 100%;
                        display: block;
                        text-align: center;
                        padding: 12px;
                        background-color: #0d6efd;
                        color: white;
                        text-decoration: none;
                        border-radius: 0;
                        margin: 0;
                        font-weight: 500;
                        letter-spacing: 0.5px;
                      "
                      >VIEW DETAILS</a
                    >
                  </div>
                </div>
              </div>

              <!-- Other Announcement Cards in a column -->
              <div class="col-md-6">
                <div class="row">
                  <div class="col-12 mb-4">
                    <div class="announcement-card-small h-100">
                      <div>
                        <h3>Cara mengenal Lebih Dalam Terkait IT - HelpDesk</h3>
                        <p>Cara membuat Problem Ticket.dll</p>
                      </div>
                      <a href="article-detail.html" class="view-detail-btn"
                        >VIEW DETAIL</a
                      >
                    </div>
                  </div>

                  <div class="col-12 mb-4">
                    <div class="announcement-card-small h-100">
                      <div>
                        <h3>Software dan Hardware</h3>
                        <p>Perangkat yang diinstall</p>
                      </div>
                      <a href="article-detail.html" class="view-detail-btn"
                        >VIEW DETAIL</a
                      >
                    </div>
                  </div>

                  <!-- New Additional Announcement Card -->
                  <div class="col-12">
                    <div
                      class="announcement-card-small h-100"
                      style="
                        background-color: #e8f5e9;
                        border-left-color: #28a745;
                      "
                    >
                      <div>
                        <h3>Update Aplikasi Terbaru</h3>
                        <p>
                          Pembaruan aplikasi internal telah dirilis dengan fitur
                          terbaru
                        </p>
                      </div>
                      <a href="article-detail.html" class="view-detail-btn"
                        >VIEW DETAIL</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div
      class="text-center py-3"
      style="
        background-color: #f8f9fa;
        border-top: 1px solid #e1e1e1;
        margin-top: 30px;
      "
    >
      <p class="mb-0" style="color: #666">
        Â© 2025 Trans 7. All Rights Reserved.
      </p>
    </div>

    <!-- Footer Component (from components-user.js) -->
    <div id="footer-container"></div>

    <!-- WhatsApp Button -->
    <div id="whatsapp-container"></div>

    <!-- Bootstrap and jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Include components -->
    <script>
      // Function to include HTML content from another file
      function includeHTML(url, callback) {
        const xhr = new XMLHttpRequest();
        xhr.open("GET", url, true);
        xhr.onreadystatechange = function () {
          if (this.readyState === 4 && this.status === 200) {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(
              this.responseText,
              "text/html"
            );

            // Add component elements to body but hidden
            const components = htmlDoc.querySelectorAll('[id$="-component"]');
            components.forEach((component) => {
              const clone = document.importNode(component, true);
              clone.style.display = "none";
              document.body.appendChild(clone);
            });

            // Get the script part
            const script = htmlDoc.querySelector("script");
            if (script) {
              eval(script.innerHTML);
            }

            // Initialize components after loading
            if (window.ITHelpdesk && window.ITHelpdesk.includeComponent) {
              window.ITHelpdesk.includeComponent(
                "navbar-component",
                "navbar-container"
              );
              window.ITHelpdesk.includeComponent(
                "whatsapp-component",
                "whatsapp-container"
              );
              window.ITHelpdesk.includeComponent(
                "footer-component",
                "footer-container"
              );
              window.ITHelpdesk.setActiveNavigation();
            }

            if (callback) callback();
          }
        };
        xhr.send();
      }

      // Load components from components-user.html
      document.addEventListener("DOMContentLoaded", function () {
        includeHTML("components-user.html");
      });
    </script>
  </body>
</html>
